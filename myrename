#!/bin/sh


INSIDE_DIR=N
CURRENT_DIR=$(pwd)

if [[ -d "$1" ]]; then
    INSIDE_DIR=Y
    cd "$1"
    echo "inside ... $(pwd)"
fi

# lowercase everything
perl-rename  'y/A-Z/a-z/' *

# if found at the beginning then delete else replace with period '.'
perl-rename  "s/^([\(\[\{]|[\)\]\}])//g" *
perl-rename  "s/([\(\[\{]|[\)\]\}])/./g" *

perl-rename  's/^\s+//g' *
perl-rename  's/\s+/\./g' *

perl-rename  's/^\_+//g' *
perl-rename  's/\_+/\./g' *

perl-rename  's/^\,+//g' *
perl-rename  's/\,+/\./g' *

perl-rename  's/^\-+//g' *
perl-rename  's/\-+/\./g' *

perl-rename  's/^\=+//g' *
perl-rename  's/\=+/\./g' *

perl-rename  's/~//g' *

perl-rename  's/:/./g' *

perl-rename  "s/\'//g" *

perl-rename  's/\.+/\./g' *

perl-rename  's/\.$//g' *

if [[ "$INSIDE_DIR" == "Y" ]]; then
    cd "$CURRENT_DIR"
fi
